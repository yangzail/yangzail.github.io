---
layout: post
title: Sword to Offer-43 整数1出现的次数 ❀❀
---

* 题目描述：  
求出`1~13`的整数中1出现的次数,并算出`100~1300`的整数中`1`出现的次数？为此他特别数了一下`1~13`中包含`1`的数字有`1`、`10`、`11`、`12`、`13`因此共出现`6`次,但是对于后面问题他就没辙了。ACMer希望你们帮帮他,并把问题更加普遍化,可以很快的求出任意非负整数区间中`1`出现的次数（从`1` 到 `n` 中`1`出现的次数）。


## 解题思路：

1、考虑每个位置出现`1`的次数如何计算，例如数字`430156`：    
个位`6>1`,高位为`0-43015`时都可取到`1`，个位为`1`共`（43015+1）*1`个数;  
十位`5>1`，高位为`0-4301`时都可取到`10-19`,十位为`1`共`（4301+1）*10`个数;  
百位`1`，高位为`0-429`时都可取到`100-199`，高位为`430`时可取`0-156`，百位共`（430）*100 +156 +1`个数;  
千位`0`，高位为`0-42`时都可取到`1000-1999`，高位为`43`时，千位取不到`1`，千位共（`42+1）*1000`个数;  
万位`3>1`，高位为`0-3`时都可取到`10000-19999`，万位共`（3 +1）*10000`个数;  
十万位`4>1`，高位为`0`，可取到`100000-199999`，十万位共`（0 +1）*100000`个数。  
  
2、总结规律：  
当前位为`0`，`1`出现次数为：`高位数字 *该位对应的10的倍数`；  
当前位为`1`，`1`出现次数为：`高位数字 *该位对应的10的倍数 +低位数字 +1`；  
当前位大于`1`，`1`出现次数为：`（高位数字 +1） *该位对应的10的倍数`。  

3、如何依次取出某数的高低位，从低到高求解：  
高位`n/i/10`，当前位`n/i%10`，低位`n%i`；  
如`n=1234`，取百位时`i=100`，此时高位`1234/100/10=1`，当前位`1234/100%10=2`，低位`1234%100=34`。

## 问题图解：

<center>
    <img src="/assets/img/blog/sword-offer-43.png">
</center>


## AC代码：

```java
// How Many 1 Appears From 0 To Number N

public class Solution {
    public int NumberOf1Between1AndN_Solution(int n) {
        int count = 0;
        if (n == 1) {
            return 1;
        }
        for (int i=1; i<=n; i*=10) {  //i=100
            int high = n / i / 10;  //430
            int cur = n / i % 10;  //1
            int low = n % i;  //156
            //判断该位是否大于1
            if (cur == 0) {
                count += high * i;
            }
            if (cur == 1) {
                count += high * i + low + 1;
            }
            if (cur > 1) {
                count += (high + 1) * i;
            }
        }
        return count;
    }
}
```


## 补充说明： 

* 这里是[牛客编码链接](https://www.nowcoder.com/practice/bd7f978302044eee894445e244c7eee6?tpId=13&&tqId=11184&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)